# ASTHERISC (Algorithmic Search of THERmodynamic advantages In stoichiometric Single-species Community models)

## General description

This repository contains the ASTHERISC package, a [<i>CellNetAnalyzer</i>](https://www2.mpi-magdeburg.mpg.de/projects/cna/cna.html)-based MATLAB package implementation of the ASTHERISC algorithm. ASTHERISC's aim is to find target metabolites with a higher optimal minimal driving force in a situation were multiple cells of the same species interact than in a situation where a single cell has to produce it alone. ASTHERISC is explained in more detail in its publication [(Bekiaris & Klamt, 2020)](#astheriscs-publication).

This packages's sister program CommModelPy, which creates community models in a widely automated fashion, can be found [here](https://www.github.com/ARB-Lab/CommModelPy).

## Installation

In order to run the ASTHERISC package, you need the following prerequisites:
* MATLAB in a version >= 2018a
* The MATLAB package <i>CellNetAnalyzer</i> in a version >=2019.1 which is available [from here](https://www2.mpi-magdeburg.mpg.de/projects/cna/cna.html)
* The CPLEX solver (tested version: 12.9)

Once you have installed <i>CellNetAnalyzer</i> in a configuration with CPLEX (this is explained in <i>CellNetAnalyzer's</i> manual), you can run the ASTHERISC package as follows:
* Download this repository and put it a folder called "0Astherisc" in <i>CellNetAnalyzer</i>'s main folder
* Start <i>CellNetAnalyzer</i> as described in its manual
* Add the ASTHERISC package's folder to MATLAB's path

Now, the installation is done \o/ and you can use the ASTHERISC package's functions as described in the next section.

## Usage

<i>Note: The ASTHERISC was developed for stoichiometric single-species community models which are generated by [CommModelPy](https://www.github.com/ARB-Lab/CommModelPy). The ASTHERISC package and CommModelPy were written by the same author and were firstly described in the same publication [(Bekiaris & Klamt, 2020)](#astheriscs-publication).</i>

The ASTHERISC package's primary script file is "astherisc.m" which can be found in this repository's main folder. The usage of "astherisc.m", such as all neccessary arguments, is described in more detail in its source code.

In addition, the other important script for the general user is "loadAndSaveCommModelPyCommunityModel.m". It reads a [CommModelPy](https://www.github.com/ARB-Lab/CommModelPy)-generated community model in the SBML format and stores it as a .mat file which is the necessary format for "astherisc.m".


## Repository structure

All ASTHERISC package-associated scripts which were run for the generation of the data in [(Bekiaris & Klamt, 2020)](#astheriscs-publication) are included in the "publication_runs" subfolder.
The local subfolder "toy_model" contains the script for the generation of the shown toy model analysis and the result file itself.
The local subfolder "ecoli_models" contains all analysis scripts and used run result text reports (in the local subfolder "run_results") for ecolicore2double, ecolicore2triple and iML1515double,
including all 24 scenarios with a maximal MILP run time of 1000 s as well as the exemplary two runs with a maximal MILP run time of 10000 s.
Each shown run in the publication was performed using the MATLAB scripts starting with "run__". Statistics about the publication run result text
reports, which were also the basis for the tables in the publication's Results section, can be generated using the "publication_run_result_statistics.py" Python script.
Additionally, the ComModelPy-generated SBML models were converted into .mat files using "loadAndSavePublicationCommunityModelsAsMat.m" and are stored in the "models_and_dG0_data" subfolder where one can
find the .mat files, the original SBML files and the JSONs containing the used dG0 data.

The subfolder "submodules" contains scripts which are internally used by "astherisc.m".

## ASTHERISC's publication

* Bekiaris, P.S., Klamt, S. <i>In the works</i>


## License
This project is free and open-source, using the Apache License Version 2.0.

## External sources
The origin of any data from external sources which are included in this package is given in the respective SOURCES.txt files.
